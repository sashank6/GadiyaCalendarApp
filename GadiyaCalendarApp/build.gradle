apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'eclipse'

mainClassName = 'Main'
sourceCompatibility = 1.7
targetCompatibility = 1.7
version = '0.0'

repositories {
    mavenCentral()
}

dependencies {
    compile 'com.google.api-client:google-api-client:1.22.0'
    compile 'com.google.oauth-client:google-oauth-client-jetty:1.22.0'
    compile 'com.google.apis:google-api-services-calendar:v3-rev208-1.22.0'
    compile 'org.jdatepicker:jdatepicker:1.3.4'
}

task buildjar(type: Jar) {
	copy{
	from 'src/main/java/client_secret.json'
	into 'build/classes/main'
	}
	manifest {
        attributes 'Implementation-Title': 'Gadiya Calendar',
        	'Implementation-Version': version,
        	'Main-Class': 'Main'
    }
    baseName = project.name
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}
